<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous"
		/>
		<title>Document</title>
	</head>
	<body>
		<form class="form">
			<div class="form-group">
				<label for="data">Data</label>
				<input
					type="text"
					id="data"
					class="form-control"
					required
					autofocus
				/>
			</div>

			<div class="form-group">
				<label for="quantidade">Quantidade</label>
				<input
					type="number"
					min="1"
					step="1"
					id="quantidade"
					class="form-control"
					value="1"
					required
				/>
			</div>

			<div class="form-group">
				<label for="valor">Valor</label>
				<input
					id="valor"
					type="number"
					class="form-control"
					min="0.01"
					step="0.01"
					value="0.0"
					required
				/>
			</div>

			<button class="btn btn-primary" type="submit">Incluir</button>
		</form>

		<div class="text-center">
			<button
				id="botao-importa"
				class="btn btn-primary text-center"
				type="button"
			>
				Importar Negociações
			</button>
			<button
				id="botao-apaga"
				class="btn btn-primary text-center"
				type="button"
			>
				Apagar
			</button>
		</div>

		<br />
		<br />

		<div id="negociacoes"></div>
		<div id="mensagemView"></div>
		<script	src="./app/domain/negociacao/NegociacaoService.js"></script>
		<script src="./app/controllers/NegociacaoController.js"></script>
		<script src="./app/domain/negociacao/Negociacao.js"></script>
		<script src="./app/domain/negociacao/Negociacoes.js"></script>
		<script src="./ui/converters/DateConverter.js"></script>
		<script src="./ui/views/View.js"></script>
		<script src="./ui/views/NegociacoesViews.js"></script>
		<script src="./ui/models/Mensagem.js"></script>
		<script src="./ui/views/MensagemView.js"></script>
		<script src="./app/util/ApplicationException.js"></script>
		<script src="./ui/converters/DataInvalidaException.js"></script>
		
		<script	src="./app/util/HttpService.js"></script>
		<script src="./app/app.js"></script>
		<!--CUIDADO COM A ORDEM DE IMPORTACAO!        Essa	dependência	entre	scripts	é	um	dos	tendões	de	Aquiles	do JavaScript.	 Isso	 faz	 com	 que	 o	 desenvolvedor	 assuma	 a responsabilidade	de	importar	os	scripts	de	sua	aplicação	na	ordem correta.	 Aprenderemos	 a	 solucionar	 esse	 problema	 através	 dos módulos	do	ES2015	(ES6),-->
		<!--	app.js	agora	sempre	será	o	último	script	porque	ele	é	o	resp onsável	em	instanciar	NegociacaoController	que	por	conseguinte	de pende	de	outras	classes	-->

		<!--<script>
			const negociacao = new Proxy(new Negociacao(new Date(), 2, 100), {
				
				get: function (target, prop, receiver) {
					//a propriedade get indica que estamos	planejando	um	código	para	um	acesso	de	leitura. A	 função	 passada	 para	 a	 propriedade	 	 get	 	 recebe	 três parâmetros	especiais.	O	primeiro,		target	,	é	uma	referência	para o objeto	encapsulado	pelo	Proxy,	o	objeto	verdadeiro.	O	segundo parâmetro,		prop	,	é	uma	string	com	o	nome	da	propriedade	que está	sendo	acessada.	Por	fim,		receiver		é	uma	referência	para	o próprio	Proxy
					console.log(`a	propriedade	"${prop}"	caiu	na	armadilha!`);
					return target[prop];
				},
				set: function (target, prop, value, receiver) {
					//O	 parâmetro	 	value		 é	 o	 valor	 que	 está	 sendo	 atribuído	 à propriedade	 que	 está	 sendo	 acessada	 no	 Proxy.
					console.log(
						`${prop} guarda ${target[prop]}, receberá ${value}`
					);
					//target[prop] = value;
					//return target[prop] == value; //retorna true se for alterado
					return Reflect.set(target, prop, value); //recebe	 três	 parâmetros.	 O	 primeiro	 é	 a instância	 do	 objeto	 alvo	 da	 operação	 e	 o	 segundo	 o	 nome	 da propriedade	que	será	alterada.	O	último	parâmetro	é	o	novo	valor da	propriedade.	O	método	retornará		true		ou		false		caso	tenha conseguido	alterar	ou	não	a	propriedade	do	objeto:
				},
			});

			console.log(negociacao.valor);
		</script>-->
	</body>
</html>
